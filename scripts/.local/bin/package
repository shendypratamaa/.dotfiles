#!/bin/bash

set -e

update() {
  echo "Package Update ‚öôÔ∏è..."
  brew update
  brew bundle -v --file=~/.config/brewfile/Brewfile
  brew upgrade
  brew info
}

bundle(){
  echo "Package Bundle üì¶..."
  brew bundle dump --desc --force --file=~/.config/brewfile/Brewfile
  bat ~/.config/brewfile/Brewfile
}

clean(){
  echo "Package Clean ü§ñ..."
  brew cleanup --prune=all
  brew autoremove
}

leave(){
  echo "Process Complete! ‚≠ê..."
  exit
}

# brew bundle install
if [ "$1" == "-u" ]; then
  update
  clean
  leave
fi

# brew bundle dump
if [ "$1" == "-b" ]; then
  bundle
  leave
fi

# brew cleanup
if [ "$1" == "-c" ]; then
  clean
  leave
fi

update
bundle
clean
leave
